{"version":3,"file":"node_modules_aws-amplify_ui-components_dist_esm_amplify-s3-text-picker_entry_js.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMe,MAAM,GAAG,IAAIV,6DAAJ,CAAW,cAAX,CAAf;;AACA,IAAMW,mBAAmB;AACrB,+BAAYC,OAAZ,EAAqB;AAAA;;AACjBhB,IAAAA,qDAAgB,CAAC,IAAD,EAAOgB,OAAP,CAAhB;AACA;;AACA,SAAKC,WAAL,GAAmB,QAAnB;AACA;;AACA,SAAKC,KAAL,GAAaX,gEAAb;AACA;;AACA,SAAKa,YAAL,GAAoBX,oEAApB;AACH;;AAToB;AAAA;AAAA;AAAA,+VAUrB,iBAAkBa,KAAlB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,IADV,GACiBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CADjB;AAAA,6BAEmD,IAFnD,CAEYC,IAFZ,EAEYA,IAFZ,2BAEmB,EAFnB,eAEuBR,KAFvB,GAEmD,IAFnD,CAEuBA,KAFvB,EAE8BS,SAF9B,GAEmD,IAFnD,CAE8BA,SAF9B,EAEyCC,KAFzC,GAEmD,IAFnD,CAEyCA,KAFzC;AAGUC,gBAAAA,GAHV,GAGgBH,IAAI,GAAGf,+DAAO,CAACY,IAAD,EAAOI,SAAP,CAH9B;;AAAA,oBAISJ,IAJT;AAAA;AAAA;AAAA;;AAAA,sBAKc,IAAIO,KAAJ,CAAU,sBAAV,CALd;;AAAA;AAAA;AAAA;AAAA,uBAQcjB,+DAAgB,CAACgB,GAAD,EAAMN,IAAN,EAAYL,KAAZ,EAAmBU,KAAnB,EAA0BL,IAAI,CAAC,MAAD,CAA9B,EAAwCT,MAAxC,CAR9B;;AAAA;AASQ,qBAAKiB,GAAL,GAAWF,GAAX;AATR;AAAA;;AAAA;AAAA;AAAA;AAYQf,gBAAAA,MAAM,CAACkB,KAAP;AAZR,sBAac,IAAIF,KAAJ,aAbd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAVqB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,WA0BrB,kBAAS;AAAA;;AACL,aAAQ7B,qDAAC,CAACE,iDAAD,EAAO,IAAP,EAAaF,qDAAC,CAAC,iBAAD,EAAoB;AAAEgC,QAAAA,OAAO,EAAE,KAAKF,GAAhB;AAAqBL,QAAAA,IAAI,EAAE,KAAKA,IAAhC;AAAsCR,QAAAA,KAAK,EAAE,KAAKA,KAAlD;AAAyDU,QAAAA,KAAK,EAAE,KAAKA,KAArE;AAA4EM,QAAAA,UAAU,EAAE,KAAKA,UAA7F;AAAyGjB,QAAAA,WAAW,EAAE,KAAKA,WAA3H;AAAwIG,QAAAA,YAAY,EAAEf,wDAAA,CAAS,KAAKe,YAAd;AAAtJ,OAApB,CAAd,EAAwNnB,qDAAC,CAAC,gBAAD,EAAmB;AAAEmC,QAAAA,YAAY,EAAE,sBAAAC,CAAC;AAAA,iBAAI,KAAI,CAACC,WAAL,CAAiBD,CAAjB,CAAJ;AAAA,SAAjB;AAA0CE,QAAAA,WAAW,EAAE;AAAvD,OAAnB,CAAzN,CAAT;AACH;AA5BoB;;AAAA;AAAA,GAAzB","sources":["./node_modules/@aws-amplify/ui-components/dist/esm/amplify-s3-text-picker.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host } from './index-83f2275b.js';\nimport { Logger, I18n } from '@aws-amplify/core';\nimport { A as AccessLevel } from './storage-types-f257c0f2.js';\nimport '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport './constants-c8ecaa24.js';\nimport '@aws-amplify/storage';\nimport { c as calcKey, p as putStorageObject } from './storage-helpers-1afafead.js';\n\nconst logger = new Logger('S3TextPicker');\nconst AmplifyS3TextPicker = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** The content type header used when uploading to S3 */\n        this.contentType = 'text/*';\n        /** The access level of the text file */\n        this.level = AccessLevel.Public;\n        /** Fallback content for aplify-s3-text */\n        this.fallbackText = Translations.PICKER_TEXT;\n    }\n    async handleInput(event) {\n        const file = event.target.files[0];\n        const { path = '', level, fileToKey, track } = this;\n        const key = path + calcKey(file, fileToKey);\n        if (!file) {\n            throw new Error('No file was selected');\n        }\n        try {\n            await putStorageObject(key, file, level, track, file['type'], logger);\n            this.src = key;\n        }\n        catch (error) {\n            logger.debug(error);\n            throw new Error(error);\n        }\n    }\n    render() {\n        return (h(Host, null, h(\"amplify-s3-text\", { textKey: this.src, path: this.path, level: this.level, track: this.track, identityId: this.identityId, contentType: this.contentType, fallbackText: I18n.get(this.fallbackText) }), h(\"amplify-picker\", { inputHandler: e => this.handleInput(e), acceptValue: 'text/*' })));\n    }\n};\n\nexport { AmplifyS3TextPicker as amplify_s3_text_picker };\n"],"names":["r","registerInstance","h","H","Host","Logger","I18n","A","AccessLevel","T","Translations","c","calcKey","p","putStorageObject","logger","AmplifyS3TextPicker","hostRef","contentType","level","Public","fallbackText","PICKER_TEXT","event","file","target","files","path","fileToKey","track","key","Error","src","debug","textKey","identityId","get","inputHandler","e","handleInput","acceptValue","amplify_s3_text_picker"],"sourceRoot":"webpack:///"}